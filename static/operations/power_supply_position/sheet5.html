
    <!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-md-12">
          <!-- AREA CHART -->
          <div class="box box-primary">
            <div class="box-header with-border">
              <h3 class="box-title"> ZONE/CATEGORY WISE ABSTARCT OF 11KV FEEDERS IN BESCOM AS PER MDM AS ON 31.01.2018
                 
              </h3>

              <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                </button>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
              </div>
            </div>
            <div class="box-body">
              <div class="form-group">
                <label>FEEDER CATEGORY</label>
                <select  id="chartType">

          <option value="pie1">Agri</option>
          <option value="pie2">Airport</option>
          <option value="pie3">Commercial</option>
          <option value="pie4">Defense Establishment</option>
          <option value="pie5">Domestic</option>
          <option value="pie6">Government offices</option>
          <option value="pie7">Hospital</option>
          <option value="pie8">Industrial</option>
          <option value="pie9">Lift Irrigation</option>
          <option value="pie10">Urban Mixed Load</option>
          <option value="pie11">NJY</option>
          <option value="pie12">Rural Mixed Load</option>
          <option value="pie13">Railways or Metro</option>
          <option value="pie14">Water works</option>
          <option value="pie15">Total Live Feeders</option>
          <option value="pie16">Auxillary</option>
          <option value="pie17">Idle</option>
          <option value="pie18">Total Feeders</option>




                </select>
              </div>
              <div class="chart">
              
              <!--  select bar chart -->
              
                            
<div id="js-legend" class="chart-legend" align="center"></div>
               <canvas id="barChart1" style="height:430px"></canvas>
                  
            <!--   <canvas id="areaChart" style="height:250px"></canvas> -->
              </div>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->

        

        </div>
      
       </div> -->
        <!-- /.col (RIGHT) -->
      </div>
      <!-- /.row -->

    </section>
 

<!-- jQuery 3 -->
<script src="../../../bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="../../../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- ChartJS -->
<script src="../../../bower_components/chart.js/Chart.js"></script>
<!-- FastClick -->
<script src="../../../bower_components/fastclick/lib/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="../../../dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="../../../dist/js/demo.js"></script>
<!-- page script -->
<script>
  $(function () {
    /* ChartJS
     * -------
     * Here we will create a few charts using ChartJS
     */

    //--------------
    //- AREA CHART -
    //--------------
   var ctx = document.getElementById("barChart1").getContext("2d");

  
var selectLable = [];
selectLable[0] = "Agri";
selectLable[1] = "Commercial";
selectLable[2] = "Defense Establishment";
selectLable[3] = "Domestic";
selectLable[4] = "Government offices";
selectLable[5] = "Hospital";
selectLable[6] = "Industrial";
selectLable[7] = "Lift Irrigation";
selectLable[8] = "Urban Mixed Load";
selectLable[9] = "NJY";
selectLable[10] = "Rural Mixed Load";
selectLable[11] = "Railways or Metro";
selectLable[12] = "Water works";
selectLable[13] = "Total Live Feeders";

selectLable[14] = "Auxillary";
selectLable[15] = "Idle";
//selectLable[16] = "Total Feeders";



/*data start*/
var chartObject = [];
chartObject[0] = [0, 510, 967, 1477]
chartObject[1]=[2,0,0,2];
chartObject[2]=[219,5,4,228];
chartObject[3]=[5,1,1,7];
chartObject[4]=[223,41,7,271];
chartObject[5]=[3,3,2,8];
chartObject[6]=[18,3,1,22];
chartObject[7]=[166,255,59,480];
chartObject[8]=[0,4,3,7];
chartObject[9]=[726,176,132,1034,];
chartObject[10]=[0,323,446,769];
chartObject[11]=[0,265,235,500];
chartObject[12]=[0,0,1,1];
chartObject[13]=[2,14,34,50];
chartObject[14]=[83,71,43,197];
chartObject[15]=[57,102,92,251];

var lables=["BMAZ","BRAZ","CTAZ","TOTAL"];



var dataMap = {};
for(row=0;row<chartObject.length;row++){
  var obj={};
  obj['method']='Bar';
  
  var rowdata = {};
  rowdata['label'] = selectLable[row];
  rowdata['fillColor'] = "#46BFBD";
  rowdata['data'] = chartObject[row];


  var mainData={};
  mainData['labels']= ['BMAZ',  'BRAZ',  'CTAZ' , 'TOTAL'];
  mainData['datasets'] = [];
 mainData['datasets'].push(rowdata);


  obj['data']=mainData;

  var newIndex='pie'+(row+1);
  dataMap[newIndex]=obj;
}
console.log(dataMap);


  




   
var currentChart;

 function updateChart() {
     if(currentChart){currentChart.destroy();}
   
     var determineChart = $("#chartType").val();

     var params = dataMap[determineChart]
      currentChart = new Chart(ctx)[params.method](params.data, {});
      var legend=currentChart;
          document.getElementById("js-legend").innerHTML = legend.generateLegend();

 }


 $('#chartType').on('click', updateChart)
 updateChart();




















  })
</script>
<style type="text/css">
  #js-legend ul {
  list-style-type: none;
    margin: 0;
    padding: 0;
}

#js-legend ul li {
  display: inline;
  padding-left: 30px;
  position: relative;
  margin-bottom: 4px;
  border-radius: 5px;
  padding: 2px 8px 2px 28px;
  font-size: 14px;
  cursor: default;
  -webkit-transition: background-color 200ms ease-in-out;
  -moz-transition: background-color 200ms ease-in-out;
  -o-transition: background-color 200ms ease-in-out;
  transition: background-color 200ms ease-in-out;
}

#js-legend li span {
display: inline;
  position: absolute;
  left: 0;
  top: 0;
  width: 20px;
  height: 100%;
  border-radius: 5px;
}

</style>